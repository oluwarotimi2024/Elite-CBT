<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ELITE CBT MASTER | SOT</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root { --sot-blue: #000b18; --sot-accent: #00d4ff; --sot-gold: #FFD700; --glass: rgba(255, 255, 255, 0.98); }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        
        body { 
            background: url('https://images.unsplash.com/photo-1521587760476-6c12a4b040da?q=80&w=2070') no-repeat center center fixed; 
            background-size: cover;
        }

        .overlay { background: rgba(0, 11, 24, 0.75); min-height: 100vh; width: 100%; display: flex; flex-direction: column; }

        .app-header { background: rgba(0, 11, 24, 0.95); padding: 20px; text-align: center; border-bottom: 3px solid var(--sot-accent); }
        .profile-circle { width: 90px; height: 90px; border-radius: 50%; border: 3px solid var(--sot-gold); margin: 0 auto 10px; overflow: hidden; background: #fff; }
        .profile-circle img { width: 100%; height: 100%; object-fit: cover; }

        .container { padding: 20px; max-width: 800px; margin: auto; width: 100%; flex: 1; padding-bottom: 120px; }
        .page { display: none; animation: fadeIn 0.5s; }
        .active-page { display: block; }

        .card { background: var(--glass); padding: 45px; border-radius: 35px; box-shadow: 0 20px 60px rgba(0,0,0,0.6); width: 100%; }

        .btn { width: 100%; padding: 24px; margin: 15px 0; border: none; border-radius: 18px; font-weight: 900; cursor: pointer; text-transform: uppercase; font-size: 1.2rem; transition: 0.3s; }
        .btn-blue { background: linear-gradient(90deg, #001f3f, #0072ff); color: white; }
        .btn-gold { background: var(--sot-gold); color: #000; }
        .option-btn { background: #f8f9fa; text-align: left; padding: 18px; font-weight: 500; font-size: 1.1rem; border: 2px solid #eee; margin-bottom: 10px; }
        .option-btn:hover { border-color: var(--sot-accent); background: #eefcff; }

        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 12px; border: 1px solid #ddd; text-align: left; font-size: 0.9rem; }
        th { background: #eee; }

        .bottom-nav { position: fixed; bottom: 0; width: 100%; background: white; display: flex; justify-content: space-around; padding: 25px 0; border-top: 3px solid var(--sot-accent); z-index: 1000; }
        .nav-item { font-weight: bold; color: #333; cursor: pointer; }

        #sot-slip { display: none; padding: 40px; background: white; color: black; }
        @keyframes fadeIn { from {opacity: 0; transform: translateY(20px);} to {opacity: 1; transform: translateY(0);} }
    </style>
</head>
<body>

<div class="overlay">
    <header class="app-header">
        <div class="profile-circle"><img src="https://cdn-icons-png.flaticon.com/512/3426/3426653.png" alt="SOT"></div>
        <h2 style="color: white;">ELITE MASTER V3.2</h2>
        <p style="color: var(--sot-gold); font-size: 0.8rem;">BIOLOGY SPECIALIST EDITION</p>
    </header>

    <div class="container">
        <div id="page-home" class="page active-page">
            <div class="card">
                <h2 style="text-align: center; color: var(--sot-blue);">STUDENT LOGIN</h2>
                <input type="text" id="std-name" placeholder="Full Name" style="width:100%; padding:20px; margin:10px 0; border-radius:10px; border:1px solid #ccc;">
                <input type="number" id="std-phone" placeholder="Phone Number" style="width:100%; padding:20px; margin:10px 0; border-radius:10px; border:1px solid #ccc;">
                <button class="btn btn-blue" onclick="startPortal()">START BIOLOGY CBT</button>
                <div style="margin-top:20px; background:#fff8e1; padding:20px; border-radius:15px; border-left:5px solid var(--sot-gold);">
                    <b>Notice:</b> Ensure your phone is fully charged before starting the 100-question drill.
                </div>
            </div>
        </div>

        <div id="page-exam" class="page">
            <div class="card">
                <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
                    <b id="q-count" style="color:var(--sot-accent)">Question 1/100</b>
                    <b id="timer" style="color:red">40:00</b>
                </div>
                <h3 id="q-text" style="margin-bottom:25px; line-height:1.5;"></h3>
                <div id="options-box" style="display:flex; flex-direction:column;"></div>
            </div>
        </div>

        <div id="page-games" class="page">
            <div class="card">
                <h2 style="text-align:center;">Current Affairs Trivia</h2>
                <p id="t-text" style="margin:20px 0; font-size:1.2rem; text-align:center;">Click start to begin the Elite Challenge!</p>
                <div id="t-box"></div>
                <button id="t-start" class="btn btn-blue" onclick="nextTrivia()">START GAME</button>
            </div>
        </div>

        <div id="page-admin" class="page">
            <div class="card">
                <h2>Admin Dashboard</h2>
                <p>Candidate Logs & Contact Info</p>
                <div style="overflow-x:auto;">
                    <table>
                        <thead><tr><th>Name</th><th>Phone</th><th>Date</th></tr></thead>
                        <tbody id="admin-table-body"></tbody>
                    </table>
                </div>
                <button class="btn" style="background:#444; color:white; margin-top:30px;" onclick="localStorage.clear(); location.reload();">CLEAR SYSTEM</button>
            </div>
        </div>
    </div>

    <nav class="bottom-nav">
        <div class="nav-item" onclick="location.reload()">HOME</div>
        <div class="nav-item" onclick="switchTab('page-games')">TRIVIA</div>
        <div class="nav-item" onclick="checkAdmin()">ADMIN</div>
    </nav>
</div>

<div id="sot-slip">
    <center>
        <h1 style="color: #002D62;">ELITE TUTORIAL CENTRE</h1>
        <p>Result Slip for CBT Practice</p>
        <hr style="margin:20px 0;">
        <h2 id="slip-name"></h2>
        <h3 id="slip-phone"></h3>
        <h1 id="slip-score" style="font-size: 4rem; color: #D32F2F;"></h1>
        <p>Status: <span id="slip-status">COMPLETED</span></p>
    </center>
</div>

<script>
    const bioBank = [
        {q: "The powerhouse of the cell is the?", o: ["Nucleus", "Mitochondria", "Ribosome", "Vacuole"], a: "Mitochondria"},
        {q: "Which of these is a function of the liver?", o: ["Bile production", "Urine formation", "Oxygen transport", "Nerve impulse"], a: "Bile production"},
        {q: "The process of maintaining a constant internal environment is?", o: ["Osmosis", "Homeostasis", "Diffusion", "Respiration"], a: "Homeostasis"},
        {q: "Which Vitamin is responsible for blood clotting?", o: ["Vit A", "Vit C", "Vit K", "Vit D"], a: "Vit K"},
        {q: "The structural unit of the kidney is?", o: ["Neuron", "Nephron", "Alveoli", "Villi"], a: "Nephron"}
        // ... System is ready for the remaining 95 questions
    ];

    const triviaBank = [
        {q: "Who was the first female pilot in Nigeria?", a: "Chinyere Kalu", o: ["Chinyere Kalu", "Stella Oduah", "Funmilayo Ransome"]},
        {q: "What does the 'S' in SOT stand for?", a: "Sunday", o: ["Sunday", "Samuel", "Solomon"]}
    ];

    let currentQ = 0; let score = 0; let tIdx = 0;

    function switchTab(id) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active-page'));
        document.getElementById(id).classList.add('active-page');
    }

    function startPortal() {
        const name = document.getElementById('std-name').value;
        const phone = document.getElementById('std-phone').value;
        if(!name || !phone) return alert("Please fill details!");
        
        let logs = JSON.parse(localStorage.getItem('sot_logs') || "[]");
        logs.push({name, phone, date: new Date().toLocaleDateString()});
        localStorage.setItem('sot_logs', JSON.stringify(logs));
        
        switchTab('page-exam');
        renderQuestion();
    }

    function renderQuestion() {
        const q = bioBank[currentQ];
        document.getElementById('q-count').innerText = `Question ${currentQ+1} / ${bioBank.length}`;
        document.getElementById('q-text').innerText = q.q;
        document.getElementById('options-box').innerHTML = q.o.map(opt => 
            `<button class="btn option-btn" onclick="handleAns('${opt}')">${opt}</button>`
        ).join('');
    }

    function handleAns(choice) {
        if(choice === bioBank[currentQ].a) score++;
        currentQ++;
        if(currentQ < bioBank.length) renderQuestion(); else showResult();
    }

    function showResult() {
        const name = document.getElementById('std-name').value;
        document.getElementById('slip-name').innerText = "STUDENT: " + name;
        document.getElementById('slip-phone').innerText = "PHONE: " + document.getElementById('std-phone').value;
        document.getElementById('slip-score').innerText = score + " / " + bioBank.length;
        
        const el = document.getElementById('sot-slip');
        el.style.display = 'block';
        html2pdf().from(el).set({margin:1, filename: name+'_Result.pdf'}).save().then(()=>location.reload());
    }

    function nextTrivia() {
        document.getElementById('t-start').style.display = 'none';
        const q = triviaBank[tIdx];
        document.getElementById('t-text').innerText = q.q;
        document.getElementById('t-box').innerHTML = q.o.map(opt => 
            `<button class="btn btn-blue" style="padding:15px;" onclick="checkT('${opt}')">${opt}</button>`
        ).join('');
    }

    function checkT(choice) {
        if(choice === triviaBank[tIdx].a) alert("Correct!"); else alert("Wrong!");
        tIdx = (tIdx + 1) % triviaBank.length;
        nextTrivia();
    }

    function checkAdmin() {
        if(prompt("Admin PIN:") === "2026") {
            switchTab('page-admin');
            const logs = JSON.parse(localStorage.getItem('sot_logs') || "[]");
            document.getElementById('admin-table-body').innerHTML = logs.map(l => 
                `<tr><td>${l.name}</td><td>${l.phone}</td><td>${l.date}</td></tr>`
            ).join('');
        }
    }
</script>
</body>
</html>
